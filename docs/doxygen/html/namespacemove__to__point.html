<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ros_diff_drive: move_to_point Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ros_diff_drive
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">move_to_point Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a08843dbe81bd704411c2268f9b25e28e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a08843dbe81bd704411c2268f9b25e28e">dyn_reconf_callback</a> (config, level)</td></tr>
<tr class="memdesc:a08843dbe81bd704411c2268f9b25e28e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamic reconfigure callback function.  <a href="namespacemove__to__point.html#a08843dbe81bd704411c2268f9b25e28e">More...</a><br /></td></tr>
<tr class="separator:a08843dbe81bd704411c2268f9b25e28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cef44f42ca64a6e1f514c718222396e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a3cef44f42ca64a6e1f514c718222396e">position_callback</a> (msg)</td></tr>
<tr class="memdesc:a3cef44f42ca64a6e1f514c718222396e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Odometry subscriber callback function.  <a href="namespacemove__to__point.html#a3cef44f42ca64a6e1f514c718222396e">More...</a><br /></td></tr>
<tr class="separator:a3cef44f42ca64a6e1f514c718222396e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad04d61c1f206a9ca810dbd061c12672b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#ad04d61c1f206a9ca810dbd061c12672b">goal_position_callback</a> (msg)</td></tr>
<tr class="memdesc:ad04d61c1f206a9ca810dbd061c12672b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function for processing goal values.  <a href="namespacemove__to__point.html#ad04d61c1f206a9ca810dbd061c12672b">More...</a><br /></td></tr>
<tr class="separator:ad04d61c1f206a9ca810dbd061c12672b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73cf87ba72147529181370e0859f96d6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a73cf87ba72147529181370e0859f96d6">idle</a> ()</td></tr>
<tr class="memdesc:a73cf87ba72147529181370e0859f96d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Idle function of the robot state machine.  <a href="namespacemove__to__point.html#a73cf87ba72147529181370e0859f96d6">More...</a><br /></td></tr>
<tr class="separator:a73cf87ba72147529181370e0859f96d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a820fc5af49d40122ee686ca55933e6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a5a820fc5af49d40122ee686ca55933e6">rotate</a> ()</td></tr>
<tr class="memdesc:a5a820fc5af49d40122ee686ca55933e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation function of the robot state machine.  <a href="namespacemove__to__point.html#a5a820fc5af49d40122ee686ca55933e6">More...</a><br /></td></tr>
<tr class="separator:a5a820fc5af49d40122ee686ca55933e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a317d978471af5f074c321a96107aea92"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a317d978471af5f074c321a96107aea92">forward</a> ()</td></tr>
<tr class="memdesc:a317d978471af5f074c321a96107aea92"><td class="mdescLeft">&#160;</td><td class="mdescRight">State machine functionality for moving forward.  <a href="namespacemove__to__point.html#a317d978471af5f074c321a96107aea92">More...</a><br /></td></tr>
<tr class="separator:a317d978471af5f074c321a96107aea92"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7c89111175169acba6d6f7aca063aa52"><td class="memItemLeft" align="right" valign="top"><a id="a7c89111175169acba6d6f7aca063aa52"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a7c89111175169acba6d6f7aca063aa52">T</a> = 1.0 / controller_freq</td></tr>
<tr class="memdesc:a7c89111175169acba6d6f7aca063aa52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controller's period in seconds. <br /></td></tr>
<tr class="separator:a7c89111175169acba6d6f7aca063aa52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8ffa8fcb373b198ffc244c8163c4ed31"><td class="memItemLeft" align="right" valign="top">
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xyInit.html#ga8ffa8fcb373b198ffc244c8163c4ed31">xInitial</a> = 0.0</td></tr>
<tr class="memdesc:ga8ffa8fcb373b198ffc244c8163c4ed31"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial x coordinate from the start of moving forward. <br /></td></tr>
<tr class="separator:ga8ffa8fcb373b198ffc244c8163c4ed31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3640214659e0cb7b711a37aa8d1c971e"><td class="memItemLeft" align="right" valign="top">
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__xyInit.html#ga3640214659e0cb7b711a37aa8d1c971e">yInitial</a> = 0.0</td></tr>
<tr class="memdesc:ga3640214659e0cb7b711a37aa8d1c971e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initial y coordinate from the start of moving forward. <br /></td></tr>
<tr class="separator:ga3640214659e0cb7b711a37aa8d1c971e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e94b96749029b24ef16be218d23a12d"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__callbackPos.html#ga3e94b96749029b24ef16be218d23a12d">cur_pos</a> = Point()</td></tr>
<tr class="memdesc:ga3e94b96749029b24ef16be218d23a12d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Contains X and Y coordinates of the current position. <br /></td></tr>
<tr class="separator:ga3e94b96749029b24ef16be218d23a12d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4dad1ef819740e0df4d0cb0bd86e7d0"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__callbackPos.html#gab4dad1ef819740e0df4d0cb0bd86e7d0">x</a></td></tr>
<tr class="memdesc:gab4dad1ef819740e0df4d0cb0bd86e7d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">X coordinate of the current position - initialization. <br /></td></tr>
<tr class="separator:gab4dad1ef819740e0df4d0cb0bd86e7d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a3cf92688e7fc0329cd2e7e83f8d065"><td class="memItemLeft" align="right" valign="top">
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__callbackPos.html#ga7a3cf92688e7fc0329cd2e7e83f8d065">y</a></td></tr>
<tr class="memdesc:ga7a3cf92688e7fc0329cd2e7e83f8d065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Y coordinate of the current position - initialization. <br /></td></tr>
<tr class="separator:ga7a3cf92688e7fc0329cd2e7e83f8d065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab396a2921cdba3818bcf0fd7f80517e5"><td class="memItemLeft" align="right" valign="top">
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__callbackPos.html#gab396a2921cdba3818bcf0fd7f80517e5">theta</a> = 0.0</td></tr>
<tr class="memdesc:gab396a2921cdba3818bcf0fd7f80517e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents current angle of the robot. <br /></td></tr>
<tr class="separator:gab396a2921cdba3818bcf0fd7f80517e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1de3638c144ad109482e5e2285eab9b"><td class="memItemLeft" align="right" valign="top"><a id="ab1de3638c144ad109482e5e2285eab9b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#ab1de3638c144ad109482e5e2285eab9b">goal</a> = Point(0, 0, 0)</td></tr>
<tr class="memdesc:ab1de3638c144ad109482e5e2285eab9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal input coordinates Updated in <a class="el" href="namespacemove__to__point.html#ad04d61c1f206a9ca810dbd061c12672b">goal_position_callback</a>. <br /></td></tr>
<tr class="separator:ab1de3638c144ad109482e5e2285eab9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8c23f7c23041b71a38310708c7f4381"><td class="memItemLeft" align="right" valign="top">
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__debugVar.html#gab8c23f7c23041b71a38310708c7f4381">GOAL_THETA</a> = 0.0</td></tr>
<tr class="memdesc:gab8c23f7c23041b71a38310708c7f4381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal angle. <br /></td></tr>
<tr class="separator:gab8c23f7c23041b71a38310708c7f4381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9cc8bd3466690c340a5cdb752f4feff4"><td class="memItemLeft" align="right" valign="top">
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__debugVar.html#ga9cc8bd3466690c340a5cdb752f4feff4">GOAL_DIST</a> = 0.0</td></tr>
<tr class="memdesc:ga9cc8bd3466690c340a5cdb752f4feff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal distance. <br /></td></tr>
<tr class="separator:ga9cc8bd3466690c340a5cdb752f4feff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ecf81d432d50ecbaff5e3f7c7461b8"><td class="memItemLeft" align="right" valign="top"><a id="a47ecf81d432d50ecbaff5e3f7c7461b8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a47ecf81d432d50ecbaff5e3f7c7461b8">active_goal</a> = Point(0, 0, 0)</td></tr>
<tr class="memdesc:a47ecf81d432d50ecbaff5e3f7c7461b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal coordinates that are under processing. <br /></td></tr>
<tr class="separator:a47ecf81d432d50ecbaff5e3f7c7461b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0880e1fbe72c280fcd63b0ce25d59852"><td class="memItemLeft" align="right" valign="top"><a id="a0880e1fbe72c280fcd63b0ce25d59852"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a0880e1fbe72c280fcd63b0ce25d59852">angle_to_goal_filt</a> = 0.0</td></tr>
<tr class="memdesc:a0880e1fbe72c280fcd63b0ce25d59852"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filtered value of the goal angle. <br /></td></tr>
<tr class="separator:a0880e1fbe72c280fcd63b0ce25d59852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a471185c0ff866498bfbe56625cc1fd62"><td class="memItemLeft" align="right" valign="top"><a id="a471185c0ff866498bfbe56625cc1fd62"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a471185c0ff866498bfbe56625cc1fd62">theta_filt</a> = 0.0</td></tr>
<tr class="memdesc:a471185c0ff866498bfbe56625cc1fd62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filtered value of the current angle. <br /></td></tr>
<tr class="separator:a471185c0ff866498bfbe56625cc1fd62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b6857a0290cf37c55a9f30112b45007"><td class="memItemLeft" align="right" valign="top"><a id="a5b6857a0290cf37c55a9f30112b45007"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a5b6857a0290cf37c55a9f30112b45007">angle_to_goal_prev</a> = 0.0</td></tr>
<tr class="memdesc:a5b6857a0290cf37c55a9f30112b45007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable that indicates previous angle to goal. <br /></td></tr>
<tr class="separator:a5b6857a0290cf37c55a9f30112b45007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefdba81522f78061f3cf38207cbc34fe"><td class="memItemLeft" align="right" valign="top"><a id="aefdba81522f78061f3cf38207cbc34fe"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#aefdba81522f78061f3cf38207cbc34fe">theta_prev</a> = 0.0</td></tr>
<tr class="memdesc:aefdba81522f78061f3cf38207cbc34fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable that indicates previous angle (theta) <br /></td></tr>
<tr class="separator:aefdba81522f78061f3cf38207cbc34fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e241e32aaa5d3d1a36863e385c56f96"><td class="memItemLeft" align="right" valign="top"><a id="a9e241e32aaa5d3d1a36863e385c56f96"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a9e241e32aaa5d3d1a36863e385c56f96">goal_distance</a> = 0.0</td></tr>
<tr class="memdesc:a9e241e32aaa5d3d1a36863e385c56f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculated goal distance. <br /></td></tr>
<tr class="separator:a9e241e32aaa5d3d1a36863e385c56f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0cb1f66340592a14057faba5fa3699f"><td class="memItemLeft" align="right" valign="top"><a id="ae0cb1f66340592a14057faba5fa3699f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#ae0cb1f66340592a14057faba5fa3699f">goal_distance_filt</a> = 0.0</td></tr>
<tr class="memdesc:ae0cb1f66340592a14057faba5fa3699f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filtered value of the goal distance. <br /></td></tr>
<tr class="separator:ae0cb1f66340592a14057faba5fa3699f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb54f4e8b7652ad7631ebd49f4e197f8"><td class="memItemLeft" align="right" valign="top"><a id="acb54f4e8b7652ad7631ebd49f4e197f8"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#acb54f4e8b7652ad7631ebd49f4e197f8">dist_filt</a> = 0.0</td></tr>
<tr class="memdesc:acb54f4e8b7652ad7631ebd49f4e197f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filtered value of the desired distance. <br /></td></tr>
<tr class="separator:acb54f4e8b7652ad7631ebd49f4e197f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64b55f55f32685dd746a4f474eb623af"><td class="memItemLeft" align="right" valign="top"><a id="a64b55f55f32685dd746a4f474eb623af"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a64b55f55f32685dd746a4f474eb623af">stop_lin_movement_cnt</a> = 0</td></tr>
<tr class="memdesc:a64b55f55f32685dd746a4f474eb623af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts up each time when robot calculated distance to goal is in the tolerance range. <br /></td></tr>
<tr class="separator:a64b55f55f32685dd746a4f474eb623af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada6e674a3b04d7f0c90eac26192a9bc8"><td class="memItemLeft" align="right" valign="top"><a id="ada6e674a3b04d7f0c90eac26192a9bc8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#ada6e674a3b04d7f0c90eac26192a9bc8">move_fwd_started</a> = False</td></tr>
<tr class="memdesc:ada6e674a3b04d7f0c90eac26192a9bc8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if moving forward started or not. <br /></td></tr>
<tr class="separator:ada6e674a3b04d7f0c90eac26192a9bc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e264e199e678aa7bbd4a2886b99598"><td class="memItemLeft" align="right" valign="top"><a id="a60e264e199e678aa7bbd4a2886b99598"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a60e264e199e678aa7bbd4a2886b99598">angle_to_goal_fwd</a> = 0.0</td></tr>
<tr class="memdesc:a60e264e199e678aa7bbd4a2886b99598"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used for correcting angle error which accumulates while moving forward. <br /></td></tr>
<tr class="separator:a60e264e199e678aa7bbd4a2886b99598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1831f89a255440df5fe8233a8dd43d"><td class="memItemLeft" align="right" valign="top"><a id="a1a1831f89a255440df5fe8233a8dd43d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a1a1831f89a255440df5fe8233a8dd43d">sub_goal_position</a> = rospy.Subscriber(&quot;/target_position/position&quot;, Pose2D, <a class="el" href="namespacemove__to__point.html#ad04d61c1f206a9ca810dbd061c12672b">goal_position_callback</a>)</td></tr>
<tr class="memdesc:a1a1831f89a255440df5fe8233a8dd43d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Goal destination subscriber. <br /></td></tr>
<tr class="separator:a1a1831f89a255440df5fe8233a8dd43d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fca79f4738171ede3e30ffd5acfaf5d"><td class="memItemLeft" align="right" valign="top"><a id="a3fca79f4738171ede3e30ffd5acfaf5d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a3fca79f4738171ede3e30ffd5acfaf5d">sub_odom</a> = rospy.Subscriber(&quot;/m2xr_diff_drive_controller/odom&quot;, Odometry, <a class="el" href="namespacemove__to__point.html#a3cef44f42ca64a6e1f514c718222396e">position_callback</a>)</td></tr>
<tr class="memdesc:a3fca79f4738171ede3e30ffd5acfaf5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Odometry (current position) subscriber. <br /></td></tr>
<tr class="separator:a3fca79f4738171ede3e30ffd5acfaf5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e41570a3d85b920a5f261ac21c3b66c"><td class="memItemLeft" align="right" valign="top"><a id="a3e41570a3d85b920a5f261ac21c3b66c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a3e41570a3d85b920a5f261ac21c3b66c">pub_cmd_vel</a> = rospy.Publisher(&quot;/m2xr_diff_drive_controller/cmd_vel&quot;, Twist, queue_size=1)</td></tr>
<tr class="memdesc:a3e41570a3d85b920a5f261ac21c3b66c"><td class="mdescLeft">&#160;</td><td class="mdescRight">cmd_vel publisher Used to publish desired velocity to the next layer of the control. <br /></td></tr>
<tr class="separator:a3e41570a3d85b920a5f261ac21c3b66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae50f053b21498f414ae18f814c5f6b77"><td class="memItemLeft" align="right" valign="top"><a id="ae50f053b21498f414ae18f814c5f6b77"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#ae50f053b21498f414ae18f814c5f6b77">r</a> = rospy.Rate(controller_freq)</td></tr>
<tr class="memdesc:ae50f053b21498f414ae18f814c5f6b77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the speed_controller node. <br /></td></tr>
<tr class="separator:ae50f053b21498f414ae18f814c5f6b77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5250965386fe06d3688b360dfc6472d1"><td class="memItemLeft" align="right" valign="top"><a id="a5250965386fe06d3688b360dfc6472d1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a5250965386fe06d3688b360dfc6472d1">StateIdle</a> = <a class="el" href="classfsm_1_1FsmState.html">FsmState</a>(<a class="el" href="classfsm_1_1FsmStates.html#a3ea1a8f0e79864d70feabef634b29f7d">FsmStates.Idle</a>, <a class="el" href="namespacemove__to__point.html#a73cf87ba72147529181370e0859f96d6">idle</a>)</td></tr>
<tr class="memdesc:a5250965386fe06d3688b360dfc6472d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">FSM idle state definition. <br /></td></tr>
<tr class="separator:a5250965386fe06d3688b360dfc6472d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b077be59fde3f67cc318035a690f2b"><td class="memItemLeft" align="right" valign="top"><a id="a74b077be59fde3f67cc318035a690f2b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a74b077be59fde3f67cc318035a690f2b">StateRotation</a> = <a class="el" href="classfsm_1_1FsmState.html">FsmState</a>(<a class="el" href="classfsm_1_1FsmStates.html#af884473925f0c4317646b802d96c3fec">FsmStates.Rotating</a>, <a class="el" href="namespacemove__to__point.html#a5a820fc5af49d40122ee686ca55933e6">rotate</a>)</td></tr>
<tr class="memdesc:a74b077be59fde3f67cc318035a690f2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">FSM rotation state definition. <br /></td></tr>
<tr class="separator:a74b077be59fde3f67cc318035a690f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb2f53bc35a6f46c9d5df404f175103b"><td class="memItemLeft" align="right" valign="top"><a id="afb2f53bc35a6f46c9d5df404f175103b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#afb2f53bc35a6f46c9d5df404f175103b">StateForward</a> = <a class="el" href="classfsm_1_1FsmState.html">FsmState</a>(<a class="el" href="classfsm_1_1FsmStates.html#a113ebc008b15f89e55e46737466b3059">FsmStates.Forward</a>, <a class="el" href="namespacemove__to__point.html#a317d978471af5f074c321a96107aea92">forward</a>)</td></tr>
<tr class="memdesc:afb2f53bc35a6f46c9d5df404f175103b"><td class="mdescLeft">&#160;</td><td class="mdescRight">FSM moving forward state definition. <br /></td></tr>
<tr class="separator:afb2f53bc35a6f46c9d5df404f175103b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e143714733d46f4d58a68790174ff96"><td class="memItemLeft" align="right" valign="top"><a id="a9e143714733d46f4d58a68790174ff96"></a>
list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a9e143714733d46f4d58a68790174ff96">StatesList</a> = [<a class="el" href="namespacemove__to__point.html#a5250965386fe06d3688b360dfc6472d1">StateIdle</a>, <a class="el" href="namespacemove__to__point.html#a74b077be59fde3f67cc318035a690f2b">StateRotation</a>, <a class="el" href="namespacemove__to__point.html#afb2f53bc35a6f46c9d5df404f175103b">StateForward</a>]</td></tr>
<tr class="memdesc:a9e143714733d46f4d58a68790174ff96"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of permitted states. <br /></td></tr>
<tr class="separator:a9e143714733d46f4d58a68790174ff96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1023f7e2625e956d48b0ff984da37b90"><td class="memItemLeft" align="right" valign="top"><a id="a1023f7e2625e956d48b0ff984da37b90"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a1023f7e2625e956d48b0ff984da37b90">robot_fsm</a> = <a class="el" href="classfsm_1_1FsmRobot.html">FsmRobot</a>(&quot;M2XR&quot;, StatesList, <a class="el" href="namespacemove__to__point.html#a9e143714733d46f4d58a68790174ff96">StatesList</a>[0])</td></tr>
<tr class="memdesc:a1023f7e2625e956d48b0ff984da37b90"><td class="mdescLeft">&#160;</td><td class="mdescRight">FSM Initialization. <br /></td></tr>
<tr class="separator:a1023f7e2625e956d48b0ff984da37b90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6058b588fcb340a77b36d3b62c4ae856"><td class="memItemLeft" align="right" valign="top"><a id="a6058b588fcb340a77b36d3b62c4ae856"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a6058b588fcb340a77b36d3b62c4ae856">srv__dyn_reconf</a> = Server(DynRecPIDConfig, <a class="el" href="namespacemove__to__point.html#a08843dbe81bd704411c2268f9b25e28e">dyn_reconf_callback</a>)</td></tr>
<tr class="memdesc:a6058b588fcb340a77b36d3b62c4ae856"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamic reconfigure server initialization. <br /></td></tr>
<tr class="separator:a6058b588fcb340a77b36d3b62c4ae856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4c429571723c9c6e08126d4531a63a9"><td class="memItemLeft" align="right" valign="top"><a id="ad4c429571723c9c6e08126d4531a63a9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#ad4c429571723c9c6e08126d4531a63a9">rot_pid</a> = <a class="el" href="classregulator_1_1Regulator.html">Regulator</a>(KP_ROT, TI_ROT, TD_ROT, <a class="el" href="namespacemove__to__point.html#a7c89111175169acba6d6f7aca063aa52">T</a>, rot_speed_limit, INT_LIMIT_ROT, &quot;rotation&quot;)</td></tr>
<tr class="memdesc:ad4c429571723c9c6e08126d4531a63a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Normal rotation PID regulator initialization. <br /></td></tr>
<tr class="separator:ad4c429571723c9c6e08126d4531a63a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc7464864ee2443a7cfb126354c217e"><td class="memItemLeft" align="right" valign="top"><a id="aadc7464864ee2443a7cfb126354c217e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#aadc7464864ee2443a7cfb126354c217e">fwd_pid</a> = <a class="el" href="classregulator_1_1Regulator.html">Regulator</a>(KP_FWD, TI_FWD, TD_FWD, <a class="el" href="namespacemove__to__point.html#a7c89111175169acba6d6f7aca063aa52">T</a>, fwd_speed_limit, INT_LIMIT_FWD, &quot;forward&quot;)</td></tr>
<tr class="memdesc:aadc7464864ee2443a7cfb126354c217e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moving forward PID regulator initialization. <br /></td></tr>
<tr class="separator:aadc7464864ee2443a7cfb126354c217e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14a818314a66e4716b37696ca304f9c2"><td class="memItemLeft" align="right" valign="top"><a id="a14a818314a66e4716b37696ca304f9c2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacemove__to__point.html#a14a818314a66e4716b37696ca304f9c2">fwd_pid_rot</a> = <a class="el" href="classregulator_1_1Regulator.html">Regulator</a>(KP_ROT, TI_ROT, TD_ROT, <a class="el" href="namespacemove__to__point.html#a7c89111175169acba6d6f7aca063aa52">T</a>, rot_speed_limit, INT_LIMIT_ROT, &quot;fwd_rot&quot;)</td></tr>
<tr class="memdesc:a14a818314a66e4716b37696ca304f9c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rotation while moving forward PID regulator initialization. <br /></td></tr>
<tr class="separator:a14a818314a66e4716b37696ca304f9c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Implements differential drive robot control
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a08843dbe81bd704411c2268f9b25e28e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08843dbe81bd704411c2268f9b25e28e">&#9670;&nbsp;</a></span>dyn_reconf_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def move_to_point.dyn_reconf_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dynamic reconfigure callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Contains all dynamic parameters </td></tr>
    <tr><td class="paramname">level</td><td>Not used </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>config </dd></dl>

</div>
</div>
<a id="a317d978471af5f074c321a96107aea92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a317d978471af5f074c321a96107aea92">&#9670;&nbsp;</a></span>forward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def move_to_point.forward </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>State machine functionality for moving forward. </p>
<p>This state controls robot when moving forward. It filters current distance and desired distance values, calculates an error, and generates desired linear speed calculated in PID routine. Desired rotation speed is then published to the velocity publisher <a class="el" href="namespacemove__to__point.html#a3e41570a3d85b920a5f261ac21c3b66c">pub_cmd_vel</a>. </p>

</div>
</div>
<a id="ad04d61c1f206a9ca810dbd061c12672b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad04d61c1f206a9ca810dbd061c12672b">&#9670;&nbsp;</a></span>goal_position_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def move_to_point.goal_position_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function for processing goal values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>Message to be processed - contains desired goal position </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a73cf87ba72147529181370e0859f96d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73cf87ba72147529181370e0859f96d6">&#9670;&nbsp;</a></span>idle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def move_to_point.idle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Idle function of the robot state machine. </p>
<p>In this state robot is waiting for the new command to arrive. </p>

</div>
</div>
<a id="a3cef44f42ca64a6e1f514c718222396e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cef44f42ca64a6e1f514c718222396e">&#9670;&nbsp;</a></span>position_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def move_to_point.position_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Odometry subscriber callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The message base on Odometry message type </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5a820fc5af49d40122ee686ca55933e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a820fc5af49d40122ee686ca55933e6">&#9670;&nbsp;</a></span>rotate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def move_to_point.rotate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rotation function of the robot state machine. </p>
<p>This state controls robot rotation. It filters current angle and desired angle values, calculates an error in degrees and generates desired rotation speed calculated in PID routine. Desired rotation speed is then published to the velocity publisher <a class="el" href="namespacemove__to__point.html#a3e41570a3d85b920a5f261ac21c3b66c">pub_cmd_vel</a>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
